import{C as d}from"./ConfigurationList-1bddc793.js";import{d as h,r as n,o as v,c as y,a as c,f as u,u as m,S as k,_ as x}from"./index-086b42c5.js";import{u as w}from"./use-loading-bar-690133ee.js";const b={class:"sub-content-wrapper"},C={class:"sidebar-wrapper"},S={class:"sub-main-content-wrapper"},V=h({__name:"UtilitiesConfigView",setup(B){m();const l=[{key:"trigger",text:"触发设置",path:"/utilites/trigger"},{key:"response",text:"回复设置",path:"/utilites/response"},{key:"text_to_image",text:"文字转图片",path:"/utilites/text_to_image"},{key:"text_to_speech",text:"文字转语音",path:"/utilites/text_to_speech"},{key:"azure",text:"Azure 语音引擎设置",path:"/utilites/azure"},{key:"vits",text:"VITS 语音引擎设置",path:"/utilites/vits"},{key:"baiducloud",text:"百度云审核",path:"/utilites/baiducloud"},{key:"ratelimit",text:"额度限制",path:"/utilites/ratelimit"},{key:"system",text:"其他功能设置",path:"/utilites/system"}],o=w(),a=n("onebot"),s=n([]),r=n({});async function p(){const e=await(await fetch("/backend-api/v1/config?key="+a.value+"&type=schema")).json();s.value=[e]}async function f(){const e=await(await fetch("/backend-api/v1/config?key="+a.value+"&type=value")).json();r.value=e}function _(t){a.value=t,i()}function i(){o.start(),p().then(()=>f()).then(()=>{o.finish()}).catch(t=>{console.error(t),o.error()})}function g(t){o.start(),console.log(t),fetch("/backend-api/v1/config?key="+a.value,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>{if(e.ok)return o.finish(),e.text();throw new Error("Something went wrong.")}).catch(e=>{console.log("err"),o.error()})}return i(),(t,e)=>(v(),y("div",b,[c("div",C,[u(k,{"nav-list":l,onOnSelect:_,"icon-only":!1,title:"功能设置"})]),c("div",S,[u(d,{title:a.value,"configuration-groups":s.value,configurationValue:r.value,onSave:g,onReset:i},null,8,["title","configuration-groups","configurationValue"])])]))}});const N=x(V,[["__scopeId","data-v-9f06eb45"]]);export{N as default};
